import { SSM } from "@aws-sdk/client-ssm";
import express from "express";
import { getPrhClient, PrhClient, PrhConfig } from "../src/mml/prh/prh";
import { GetCompaniesResponse } from "../src/mml/prh/service";

const app = express();
const port = 8081;
const localEndpoint = `http://localhost:${port}`;

app.post("/", (_req, res) => {
  res.send(
    `<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xro="http://x-road.eu/xsd/xroad.xsd" xmlns:iden="http://x-road.eu/xsd/identifiers" xmlns:v1="http://bis/dataservices/companyquery/v1" xmlns:arr="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
      <soapenv:Header>
          <xro:protocolVersion>?</xro:protocolVersion>
          <xro:issue>?</xro:issue>
          <xro:requestHash algorithmId="?">?</xro:requestHash>
          <xro:userId>?</xro:userId>
          <xro:id>?</xro:id>
          <xro:service iden:objectType="SERVICE">
            <iden:xRoadInstance>?</iden:xRoadInstance>
            <iden:memberClass>?</iden:memberClass>
            <iden:memberCode>?</iden:memberCode>
            <!--Optional:-->
            <iden:subsystemCode>?</iden:subsystemCode>
            <iden:serviceCode>?</iden:serviceCode>
            <!--Optional:-->
            <iden:serviceVersion>?</iden:serviceVersion>
          </xro:service>
          <xro:client iden:objectType="?">
            <iden:xRoadInstance>?</iden:xRoadInstance>
            <iden:memberClass>?</iden:memberClass>
            <iden:memberCode>?</iden:memberCode>
            <!--Optional:-->
            <iden:subsystemCode>?</iden:subsystemCode>
          </xro:client>
      </soapenv:Header>
      <soapenv:Body>
          <v1:GetCompaniesResponse>
            <v1:request>
                <!--Optional:-->
                <v1:companiesQuery>
                  <!--Optional:-->
                  <v1:BusinessIds>
                      <!--Zero or more repetitions:-->
                      <arr:string>?</arr:string>
                  </v1:BusinessIds>
                </v1:companiesQuery>
            </v1:request>
            <v1:response>
                <!--Optional:-->
                <v1:GetCompaniesResult>
                  <!--Optional:-->
                  <v1:Companies>
                      <!--Zero or more repetitions:-->
                      <v1:Company>
                        <!--Optional:-->
                        <v1:BusinessId>y1</v1:BusinessId>
                        <!--Optional:-->
                        <v1:Person>
                            <!--Optional:-->
                            <v1:Name>?</v1:Name>
                            <!--Optional:-->
                            <v1:Validity>
                              <!--Optional:-->
                              <v1:StartDate>?</v1:StartDate>
                              <!--Optional:-->
                              <v1:EndDate>?</v1:EndDate>
                            </v1:Validity>
                            <!--Optional:-->
                            <v1:Source>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Source>
                        </v1:Person>
                        <!--Optional:-->
                        <v1:TradeName>
                            <!--Optional:-->
                            <v1:Name>?</v1:Name>
                            <!--Optional:-->
                            <v1:Validity>
                              <!--Optional:-->
                              <v1:StartDate>?</v1:StartDate>
                              <!--Optional:-->
                              <v1:EndDate>?</v1:EndDate>
                            </v1:Validity>
                            <!--Optional:-->
                            <v1:Source>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Source>
                            <!--Optional:-->
                            <v1:Type>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Type>
                        </v1:TradeName>
                        <!--Optional:-->
                        <v1:AuxiliaryTradeNames>
                            <!--Zero or more repetitions:-->
                            <v1:TradeName>
                              <!--Optional:-->
                              <v1:Name>?</v1:Name>
                              <!--Optional:-->
                              <v1:Validity>
                                  <!--Optional:-->
                                  <v1:StartDate>?</v1:StartDate>
                                  <!--Optional:-->
                                  <v1:EndDate>?</v1:EndDate>
                              </v1:Validity>
                              <!--Optional:-->
                              <v1:Source>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Source>
                              <!--Optional:-->
                              <v1:Type>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Type>
                            </v1:TradeName>
                        </v1:AuxiliaryTradeNames>
                        <!--Optional:-->
                        <v1:ParallelTradeNames>
                            <!--Zero or more repetitions:-->
                            <v1:TradeName>
                              <!--Optional:-->
                              <v1:Name>?</v1:Name>
                              <!--Optional:-->
                              <v1:Validity>
                                  <!--Optional:-->
                                  <v1:StartDate>?</v1:StartDate>
                                  <!--Optional:-->
                                  <v1:EndDate>?</v1:EndDate>
                              </v1:Validity>
                              <!--Optional:-->
                              <v1:Source>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Source>
                              <!--Optional:-->
                              <v1:Type>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Type>
                            </v1:TradeName>
                        </v1:ParallelTradeNames>
                        <!--Optional:-->
                        <v1:Bankruptcy>
                            <!--Optional:-->
                            <v1:CodeActive>?</v1:CodeActive>
                            <!--Optional:-->
                            <v1:Validity>
                              <!--Optional:-->
                              <v1:StartDate>?</v1:StartDate>
                              <!--Optional:-->
                              <v1:EndDate>?</v1:EndDate>
                            </v1:Validity>
                            <!--Optional:-->
                            <v1:Source>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Source>
                            <!--Optional:-->
                            <v1:Type>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Type>
                        </v1:Bankruptcy>
                        <!--Optional:-->
                        <v1:CompanyReorganisation>
                            <!--Optional:-->
                            <v1:CodeActive>?</v1:CodeActive>
                            <!--Optional:-->
                            <v1:Validity>
                              <!--Optional:-->
                              <v1:StartDate>?</v1:StartDate>
                              <!--Optional:-->
                              <v1:EndDate>?</v1:EndDate>
                            </v1:Validity>
                            <!--Optional:-->
                            <v1:Source>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Source>
                            <!--Optional:-->
                            <v1:Type>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Type>
                        </v1:CompanyReorganisation>
                        <!--Optional:-->
                        <v1:Liquidation>
                            <!--Optional:-->
                            <v1:CodeActive>?</v1:CodeActive>
                            <!--Optional:-->
                            <v1:Validity>
                              <!--Optional:-->
                              <v1:StartDate>?</v1:StartDate>
                              <!--Optional:-->
                              <v1:EndDate>?</v1:EndDate>
                            </v1:Validity>
                            <!--Optional:-->
                            <v1:Source>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Source>
                            <!--Optional:-->
                            <v1:Type>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Type>
                        </v1:Liquidation>
                        <!--Optional:-->
                        <v1:BusinessInterruption>
                            <!--Optional:-->
                            <v1:CodeActive>?</v1:CodeActive>
                            <!--Optional:-->
                            <v1:Validity>
                              <!--Optional:-->
                              <v1:StartDate>?</v1:StartDate>
                              <!--Optional:-->
                              <v1:EndDate>?</v1:EndDate>
                            </v1:Validity>
                            <!--Optional:-->
                            <v1:Source>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Source>
                            <!--Optional:-->
                            <v1:Type>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Type>
                        </v1:BusinessInterruption>
                        <!--Optional:-->
                        <v1:LegalForm>
                            <!--Optional:-->
                            <v1:CodeActive>?</v1:CodeActive>
                            <!--Optional:-->
                            <v1:Validity>
                              <!--Optional:-->
                              <v1:StartDate>?</v1:StartDate>
                              <!--Optional:-->
                              <v1:EndDate>?</v1:EndDate>
                            </v1:Validity>
                            <!--Optional:-->
                            <v1:Source>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Source>
                            <!--Optional:-->
                            <v1:Type>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Type>
                        </v1:LegalForm>
                        <!--Optional:-->
                        <v1:Municipality>
                            <!--Optional:-->
                            <v1:CodeActive>?</v1:CodeActive>
                            <!--Optional:-->
                            <v1:Validity>
                              <!--Optional:-->
                              <v1:StartDate>?</v1:StartDate>
                              <!--Optional:-->
                              <v1:EndDate>?</v1:EndDate>
                            </v1:Validity>
                            <!--Optional:-->
                            <v1:Source>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Source>
                            <!--Optional:-->
                            <v1:Type>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Type>
                        </v1:Municipality>
                        <!--Optional:-->
                        <v1:BusinessLine>
                            <!--Optional:-->
                            <v1:CodeActive>?</v1:CodeActive>
                            <!--Optional:-->
                            <v1:Validity>
                              <!--Optional:-->
                              <v1:StartDate>?</v1:StartDate>
                              <!--Optional:-->
                              <v1:EndDate>?</v1:EndDate>
                            </v1:Validity>
                            <!--Optional:-->
                            <v1:Source>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Source>
                            <!--Optional:-->
                            <v1:Type>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Type>
                        </v1:BusinessLine>
                        <!--Optional:-->
                        <v1:Language>
                            <!--Optional:-->
                            <v1:CodeActive>?</v1:CodeActive>
                            <!--Optional:-->
                            <v1:Validity>
                              <!--Optional:-->
                              <v1:StartDate>?</v1:StartDate>
                              <!--Optional:-->
                              <v1:EndDate>?</v1:EndDate>
                            </v1:Validity>
                            <!--Optional:-->
                            <v1:Source>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Source>
                            <!--Optional:-->
                            <v1:Type>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Type>
                        </v1:Language>
                        <!--Optional:-->
                        <v1:BusinessActivity>
                            <!--Optional:-->
                            <v1:CodeActive>?</v1:CodeActive>
                            <!--Optional:-->
                            <v1:Validity>
                              <!--Optional:-->
                              <v1:StartDate>?</v1:StartDate>
                              <!--Optional:-->
                              <v1:EndDate>?</v1:EndDate>
                            </v1:Validity>
                            <!--Optional:-->
                            <v1:Source>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Source>
                            <!--Optional:-->
                            <v1:Type>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Type>
                        </v1:BusinessActivity>
                        <!--Optional:-->
                        <v1:CompanyStatus>
                            <!--Optional:-->
                            <v1:Validity>
                              <!--Optional:-->
                              <v1:StartDate>?</v1:StartDate>
                              <!--Optional:-->
                              <v1:EndDate>?</v1:EndDate>
                            </v1:Validity>
                            <!--Optional:-->
                            <v1:BusinessIdStatus>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:BusinessIdStatus>
                            <!--Optional:-->
                            <v1:Status>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Status>
                        </v1:CompanyStatus>
                        <!--Optional:-->
                        <v1:PostalAddress>
                            <!--Optional:-->
                            <v1:ForeignAddress>
                              <!--Optional:-->
                              <v1:AddressPart1>?</v1:AddressPart1>
                              <!--Optional:-->
                              <v1:AddressPart2>?</v1:AddressPart2>
                              <!--Optional:-->
                              <v1:AddressPart3>?</v1:AddressPart3>
                              <!--Optional:-->
                              <v1:City>?</v1:City>
                              <!--Optional:-->
                              <v1:Country>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Country>
                              <!--Optional:-->
                              <v1:Type>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Type>
                              <!--Optional:-->
                              <v1:Validity>
                                  <!--Optional:-->
                                  <v1:StartDate>?</v1:StartDate>
                                  <!--Optional:-->
                                  <v1:EndDate>?</v1:EndDate>
                              </v1:Validity>
                            </v1:ForeignAddress>
                            <!--Optional:-->
                            <v1:DomesticAddress>
                              <!--Optional:-->
                              <v1:CareOf>?</v1:CareOf>
                              <!--Optional:-->
                              <v1:Street>?</v1:Street>
                              <!--Optional:-->
                              <v1:PostOfficeBox>?</v1:PostOfficeBox>
                              <!--Optional:-->
                              <v1:BuildingNumber>?</v1:BuildingNumber>
                              <!--Optional:-->
                              <v1:Entrance>?</v1:Entrance>
                              <!--Optional:-->
                              <v1:ApartmentNumber>?</v1:ApartmentNumber>
                              <!--Optional:-->
                              <v1:ApartmentIDSuffix>?</v1:ApartmentIDSuffix>
                              <!--Optional:-->
                              <v1:PostalCode>?</v1:PostalCode>
                              <!--Optional:-->
                              <v1:City>?</v1:City>
                              <!--Optional:-->
                              <v1:Language>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Language>
                              <!--Optional:-->
                              <v1:Type>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Type>
                              <!--Optional:-->
                              <v1:PostalCodeActive>?</v1:PostalCodeActive>
                              <!--Optional:-->
                              <v1:Validity>
                                  <!--Optional:-->
                                  <v1:StartDate>?</v1:StartDate>
                                  <!--Optional:-->
                                  <v1:EndDate>?</v1:EndDate>
                              </v1:Validity>
                            </v1:DomesticAddress>
                            <!--Optional:-->
                            <v1:NonstandardDomesticAddress>
                              <!--Optional:-->
                              <v1:AddressPart1>?</v1:AddressPart1>
                              <!--Optional:-->
                              <v1:AddressPart2>?</v1:AddressPart2>
                              <!--Optional:-->
                              <v1:AddressPart3>?</v1:AddressPart3>
                              <!--Optional:-->
                              <v1:AddressPart4>?</v1:AddressPart4>
                              <!--Optional:-->
                              <v1:PostalCode>?</v1:PostalCode>
                              <!--Optional:-->
                              <v1:City>?</v1:City>
                              <!--Optional:-->
                              <v1:Language>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Language>
                              <!--Optional:-->
                              <v1:Type>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Type>
                              <!--Optional:-->
                              <v1:PostalCodeActive>?</v1:PostalCodeActive>
                              <!--Optional:-->
                              <v1:Validity>
                                  <!--Optional:-->
                                  <v1:StartDate>?</v1:StartDate>
                                  <!--Optional:-->
                                  <v1:EndDate>?</v1:EndDate>
                              </v1:Validity>
                            </v1:NonstandardDomesticAddress>
                        </v1:PostalAddress>
                        <!--Optional:-->
                        <v1:StreetAddress>
                            <!--Optional:-->
                            <v1:ForeignAddress>
                              <!--Optional:-->
                              <v1:AddressPart1>?</v1:AddressPart1>
                              <!--Optional:-->
                              <v1:AddressPart2>?</v1:AddressPart2>
                              <!--Optional:-->
                              <v1:AddressPart3>?</v1:AddressPart3>
                              <!--Optional:-->
                              <v1:City>?</v1:City>
                              <!--Optional:-->
                              <v1:Country>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Country>
                              <!--Optional:-->
                              <v1:Type>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Type>
                              <!--Optional:-->
                              <v1:Validity>
                                  <!--Optional:-->
                                  <v1:StartDate>?</v1:StartDate>
                                  <!--Optional:-->
                                  <v1:EndDate>?</v1:EndDate>
                              </v1:Validity>
                            </v1:ForeignAddress>
                            <!--Optional:-->
                            <v1:DomesticAddress>
                              <!--Optional:-->
                              <v1:CareOf>?</v1:CareOf>
                              <!--Optional:-->
                              <v1:Street>?</v1:Street>
                              <!--Optional:-->
                              <v1:PostOfficeBox>?</v1:PostOfficeBox>
                              <!--Optional:-->
                              <v1:BuildingNumber>?</v1:BuildingNumber>
                              <!--Optional:-->
                              <v1:Entrance>?</v1:Entrance>
                              <!--Optional:-->
                              <v1:ApartmentNumber>?</v1:ApartmentNumber>
                              <!--Optional:-->
                              <v1:ApartmentIDSuffix>?</v1:ApartmentIDSuffix>
                              <!--Optional:-->
                              <v1:PostalCode>?</v1:PostalCode>
                              <!--Optional:-->
                              <v1:City>?</v1:City>
                              <!--Optional:-->
                              <v1:Language>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Language>
                              <!--Optional:-->
                              <v1:Type>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Type>
                              <!--Optional:-->
                              <v1:PostalCodeActive>?</v1:PostalCodeActive>
                              <!--Optional:-->
                              <v1:Validity>
                                  <!--Optional:-->
                                  <v1:StartDate>?</v1:StartDate>
                                  <!--Optional:-->
                                  <v1:EndDate>?</v1:EndDate>
                              </v1:Validity>
                            </v1:DomesticAddress>
                            <!--Optional:-->
                            <v1:NonstandardDomesticAddress>
                              <!--Optional:-->
                              <v1:AddressPart1>?</v1:AddressPart1>
                              <!--Optional:-->
                              <v1:AddressPart2>?</v1:AddressPart2>
                              <!--Optional:-->
                              <v1:AddressPart3>?</v1:AddressPart3>
                              <!--Optional:-->
                              <v1:AddressPart4>?</v1:AddressPart4>
                              <!--Optional:-->
                              <v1:PostalCode>?</v1:PostalCode>
                              <!--Optional:-->
                              <v1:City>?</v1:City>
                              <!--Optional:-->
                              <v1:Language>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Language>
                              <!--Optional:-->
                              <v1:Type>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Type>
                              <!--Optional:-->
                              <v1:PostalCodeActive>?</v1:PostalCodeActive>
                              <!--Optional:-->
                              <v1:Validity>
                                  <!--Optional:-->
                                  <v1:StartDate>?</v1:StartDate>
                                  <!--Optional:-->
                                  <v1:EndDate>?</v1:EndDate>
                              </v1:Validity>
                            </v1:NonstandardDomesticAddress>
                        </v1:StreetAddress>
                        <!--Optional:-->
                        <v1:ContactDetails>
                            <!--Zero or more repetitions:-->
                            <v1:ContactDetail>
                              <!--Optional:-->
                              <v1:Value>?</v1:Value>
                              <!--Optional:-->
                              <v1:Validity>
                                  <!--Optional:-->
                                  <v1:StartDate>?</v1:StartDate>
                                  <!--Optional:-->
                                  <v1:EndDate>?</v1:EndDate>
                              </v1:Validity>
                              <!--Optional:-->
                              <v1:Type>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Type>
                            </v1:ContactDetail>
                        </v1:ContactDetails>
                        <!--Optional:-->
                        <v1:RegistrationsInForce>
                            <!--Zero or more repetitions:-->
                            <v1:RegistryEntry>
                              <!--Optional:-->
                              <v1:Registry>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Registry>
                              <!--Optional:-->
                              <v1:RegistryCode>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:RegistryCode>
                              <!--Optional:-->
                              <v1:Authority>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Authority>
                              <!--Optional:-->
                              <v1:RegistrationDate>?</v1:RegistrationDate>
                              <!--Optional:-->
                              <v1:Validity>
                                  <!--Optional:-->
                                  <v1:StartDate>?</v1:StartDate>
                                  <!--Optional:-->
                                  <v1:EndDate>?</v1:EndDate>
                              </v1:Validity>
                            </v1:RegistryEntry>
                        </v1:RegistrationsInForce>
                        <!--Optional:-->
                        <v1:RegistrationHistory>
                            <!--Zero or more repetitions:-->
                            <v1:RegistryEntry>
                              <!--Optional:-->
                              <v1:Registry>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Registry>
                              <!--Optional:-->
                              <v1:RegistryCode>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:RegistryCode>
                              <!--Optional:-->
                              <v1:Authority>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Authority>
                              <!--Optional:-->
                              <v1:RegistrationDate>?</v1:RegistrationDate>
                              <!--Optional:-->
                              <v1:Validity>
                                  <!--Optional:-->
                                  <v1:StartDate>?</v1:StartDate>
                                  <!--Optional:-->
                                  <v1:EndDate>?</v1:EndDate>
                              </v1:Validity>
                            </v1:RegistryEntry>
                        </v1:RegistrationHistory>
                        <!--Optional:-->
                        <v1:RegisteredInPrepaymentRegister>?</v1:RegisteredInPrepaymentRegister>
                        <!--Optional:-->
                        <v1:NextRevisionDateOfPrepaymentRegister>?</v1:NextRevisionDateOfPrepaymentRegister>
                        <!--Optional:-->
                        <v1:BusinessIdHistory>
                            <!--Zero or more repetitions:-->
                            <v1:BusinessIdHistory>
                              <!--Optional:-->
                              <v1:OldBusinessId>?</v1:OldBusinessId>
                              <!--Optional:-->
                              <v1:NewBusinessId>?</v1:NewBusinessId>
                              <!--Optional:-->
                              <v1:ChangeDate>?</v1:ChangeDate>
                              <!--Optional:-->
                              <v1:Change>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Change>
                              <!--Optional:-->
                              <v1:Source>
                                  <!--Optional:-->
                                  <v1:PrimaryCode>?</v1:PrimaryCode>
                                  <!--Optional:-->
                                  <v1:SecondaryCode>?</v1:SecondaryCode>
                                  <!--Optional:-->
                                  <v1:Descriptions>
                                    <!--Zero or more repetitions:-->
                                    <v1:CodeDescription>
                                        <!--Optional:-->
                                        <v1:Language>?</v1:Language>
                                        <!--Optional:-->
                                        <v1:Type>?</v1:Type>
                                        <!--Optional:-->
                                        <v1:Description>?</v1:Description>
                                    </v1:CodeDescription>
                                  </v1:Descriptions>
                              </v1:Source>
                            </v1:BusinessIdHistory>
                        </v1:BusinessIdHistory>
                        <!--Optional:-->
                        <v1:InDebtAdjustment>
                            <!--Optional:-->
                            <v1:CodeActive>?</v1:CodeActive>
                            <!--Optional:-->
                            <v1:Validity>
                              <!--Optional:-->
                              <v1:StartDate>?</v1:StartDate>
                              <!--Optional:-->
                              <v1:EndDate>?</v1:EndDate>
                            </v1:Validity>
                            <!--Optional:-->
                            <v1:Source>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Source>
                            <!--Optional:-->
                            <v1:Type>
                              <!--Optional:-->
                              <v1:PrimaryCode>?</v1:PrimaryCode>
                              <!--Optional:-->
                              <v1:SecondaryCode>?</v1:SecondaryCode>
                              <!--Optional:-->
                              <v1:Descriptions>
                                  <!--Zero or more repetitions:-->
                                  <v1:CodeDescription>
                                    <!--Optional:-->
                                    <v1:Language>?</v1:Language>
                                    <!--Optional:-->
                                    <v1:Type>?</v1:Type>
                                    <!--Optional:-->
                                    <v1:Description>?</v1:Description>
                                  </v1:CodeDescription>
                              </v1:Descriptions>
                            </v1:Type>
                        </v1:InDebtAdjustment>
                      </v1:Company>
                  </v1:Companies>
                </v1:GetCompaniesResult>
            </v1:response>
          </v1:GetCompaniesResponse>
      </soapenv:Body>
    </soapenv:Envelope>`
  );
});

app.listen(port, () => {
  console.log(`Server is running on port ${port}`);
});

let soapClient: PrhClient | undefined;
const euWestSSMClient = new SSM({ region: "eu-west-1" });
euWestSSMClient
  .getParameter({
    Name: "PrhConfig",
    WithDecryption: true,
  })
  .catch((e) => {
    throw new Error("PrhConfig not found");
  })
  .then((output) => {
    return output.Parameter?.Value;
  })
  .then((config) => {
    if (config) {
      const partialCfg: Partial<PrhConfig> = {};
      config.split("\n").forEach((e) => {
        const v = e.split("=");
        partialCfg[v[0] as keyof PrhConfig] = v[1].trim();
      });
      const cfg = partialCfg as PrhConfig;
      return getPrhClient({
        endpoint: localEndpoint,
        apiKey: cfg.apikey,
        palveluTunnus: "VLS",
      }).then((client) => {
        soapClient = client;
        if (process.argv.length <= 2) {
          return Promise.reject(new Error("Anna ytunnus parametrina!"));
        }
        return client.haeYritykset(process.argv[2].split(","));
      });
    }
  })
  .then((response: GetCompaniesResponse | undefined) => {
    if (process.argv.includes("--debug")) {
      console.log("XML Request: " + soapClient?.getSoapClient().lastRequest);
      console.log("XML Response: " + soapClient?.getSoapClient().lastResponse);
    }
    if (response) {
      console.log("ytunnus", response.response?.GetCompaniesResult?.Companies?.Company?.map(c => c.BusinessId));
    }
    process.exit(0);
  })
  .catch((e) => {
    console.error("Error", e);
    process.exit(1);
  });
