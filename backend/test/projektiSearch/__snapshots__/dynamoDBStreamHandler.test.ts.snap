// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`dynamoDBStreamHandler should index new projektis successfully 1`] = `
Object {
  "aktiivinen": true,
  "asiatunnus": "ELY/2/2022",
  "maakunnat": Array [
    1,
    6,
  ],
  "muokkaajat": Array [
    "A123",
    "A000111",
  ],
  "nimi": "Testiprojekti 2",
  "paivitetty": "2022-03-15T14:30:00.000Z",
  "projektiTyyppi": "TIE",
  "projektipaallikko": "Pekka Projari",
  "saame": false,
  "suunnittelustaVastaavaViranomainen": "UUDENMAAN_ELY",
  "vaihe": "ALOITUSKUULUTUS",
  "vaylamuoto": Array [
    "tie",
  ],
  "viimeisinJulkaisu": "2022-03-28T14:28",
}
`;

exports[`dynamoDBStreamHandler should index new projektis successfully 2`] = `
Object {
  "hankkeenKuvaus": "Suunnittelu kohde on osa Hyvinkää-Hanko sähköistyshanketta, jossa toteutetaan myös tasoristeysten toimenpiteitä. Hyväksytyssä ratasuunnitelmassa kyseisessä kohdassa on hyväksytty suunnitelmaratkaisuna Kisan seisakkeen ja Leksvallin tasoristeysten poistaminen parantamalla Helmströmin tasoristeyksen kohdalle uusi tasoristeys. Nyt käynnistetään Rata-suunnitelman päivitys kyseisessä kohdassa ja suunnitellaan kaikkien kolmen tasoristeyksen poistaminen uudella Leksvallin ylikulkusillalla.",
  "kunnat": Array [
    491,
    178,
    740,
  ],
  "maakunnat": Array [
    1,
    6,
  ],
  "nimi": "Testiprojekti 2",
  "paivitetty": "2022-03-15T14:30:00.000Z",
  "projektiTyyppi": "TIE",
  "publishTimestamp": "2022-03-28T14:28:00+03:00",
  "saame": false,
  "vaihe": "ALOITUSKUULUTUS",
  "vaylamuoto": Array [
    "tie",
  ],
  "viimeinenTilaisuusPaattyy": undefined,
  "viimeisinJulkaisu": "2022-03-28T14:28",
}
`;

exports[`dynamoDBStreamHandler should index new projektis successfully 3`] = `
Object {
  "hankkeenKuvaus": "Designplatsen är en del av elektrifieringsprojektet Hyvinge-Hangö, som också kommer att genomföra plankorsningsåtgärder. I den fastställda spårplanen är borttagandet av tävlingsstoppet och Leksvallskorsningen genom förbättring av en ny plankorsning vid Helmströms plankorsning vid denna punkt godkänd som planlösning. En uppdatering av Spårplanen kommer nu att lanseras då och man planerar att ta bort alla tre plankorsningarna på den nya Leksvallsöverfarten.",
  "kunnat": Array [
    491,
    178,
    740,
  ],
  "maakunnat": Array [
    1,
    6,
  ],
  "nimi": "Marikas testprojekt",
  "paivitetty": "2022-03-15T14:30:00.000Z",
  "projektiTyyppi": "TIE",
  "publishTimestamp": "2022-03-28T14:28:00+03:00",
  "saame": false,
  "vaihe": "ALOITUSKUULUTUS",
  "vaylamuoto": Array [
    "tie",
  ],
  "viimeinenTilaisuusPaattyy": undefined,
  "viimeisinJulkaisu": "2022-03-28T14:28",
}
`;

exports[`dynamoDBStreamHandler should index projekti updates successfully 1`] = `
Object {
  "aktiivinen": true,
  "asiatunnus": "ELY/2/2022",
  "maakunnat": Array [
    1,
    6,
  ],
  "muokkaajat": Array [
    "A123",
    "A000111",
  ],
  "nimi": "Testiprojekti 2",
  "paivitetty": "2022-03-15T14:30:00.000Z",
  "projektiTyyppi": "TIE",
  "projektipaallikko": "Pekka Projari",
  "saame": false,
  "suunnittelustaVastaavaViranomainen": "UUDENMAAN_ELY",
  "vaihe": "ALOITUSKUULUTUS",
  "vaylamuoto": Array [
    "tie",
  ],
  "viimeisinJulkaisu": "2022-03-28T14:28",
}
`;

exports[`dynamoDBStreamHandler should index projekti updates successfully 2`] = `
Array [
  Array [
    "2_aloitusKuulutus_SUOMI_2022-03-28T14:28",
    Object {
      "date": "2022-03-28T14:28:00+03:00",
      "elyt": Array [
        "ely/ely07",
      ],
      "kieli": "SUOMI",
      "kunnat": Array [
        491,
        178,
        740,
      ],
      "lelyt": Array [
        "ely/ely08",
        "ely/ely08",
        "ely/ely08",
      ],
      "maakunnat": Array [
        1,
        6,
      ],
      "oid": "2",
      "title": "Kuulutus suunnittelun aloittamisesta: Testiprojekti 2",
      "type": "Kuulutus",
      "url": "https://localhost:3000/suunnitelma/2/aloituskuulutus",
      "vaylamuoto": Array [
        "tie",
      ],
    },
  ],
  Array [
    "2_aloitusKuulutus_RUOTSI_2022-03-28T14:28",
    Object {
      "date": "2022-03-28T14:28:00+03:00",
      "elyt": Array [
        "ely/ely07",
      ],
      "kieli": "RUOTSI",
      "kunnat": Array [
        491,
        178,
        740,
      ],
      "lelyt": Array [
        "ely/ely08",
        "ely/ely08",
        "ely/ely08",
      ],
      "maakunnat": Array [
        1,
        6,
      ],
      "oid": "2",
      "title": "Kungörelse om inledande av planering: Marikas testprojekt",
      "type": "Kuulutus",
      "url": "https://localhost:3000/sv/suunnitelma/2/aloituskuulutus",
      "vaylamuoto": Array [
        "tie",
      ],
    },
  ],
]
`;

exports[`dynamoDBStreamHandler should reindex the database successfully 1`] = `
Object {
  "aktiivinen": true,
  "asiatunnus": "ELY/2/2022",
  "maakunnat": Array [
    1,
    6,
  ],
  "muokkaajat": Array [
    "A123",
    "A000111",
  ],
  "nimi": "Testiprojekti 2",
  "paivitetty": "2022-03-15T14:30:00.000Z",
  "projektiTyyppi": "TIE",
  "projektipaallikko": "Pekka Projari",
  "saame": false,
  "suunnittelustaVastaavaViranomainen": "UUDENMAAN_ELY",
  "vaihe": "ALOITUSKUULUTUS",
  "vaylamuoto": Array [
    "tie",
  ],
  "viimeisinJulkaisu": "2022-03-28T14:28",
}
`;

exports[`dynamoDBStreamHandler should reindex the database successfully 2`] = `
Array [
  Array [
    "2_aloitusKuulutus_SUOMI_2022-03-28T14:28",
    Object {
      "date": "2022-03-28T14:28:00+03:00",
      "elyt": Array [
        "ely/ely07",
      ],
      "kieli": "SUOMI",
      "kunnat": Array [
        491,
        178,
        740,
      ],
      "lelyt": Array [
        "ely/ely08",
        "ely/ely08",
        "ely/ely08",
      ],
      "maakunnat": Array [
        1,
        6,
      ],
      "oid": "2",
      "title": "Kuulutus suunnittelun aloittamisesta: Testiprojekti 2",
      "type": "Kuulutus",
      "url": "https://localhost:3000/suunnitelma/2/aloituskuulutus",
      "vaylamuoto": Array [
        "tie",
      ],
    },
  ],
  Array [
    "2_aloitusKuulutus_RUOTSI_2022-03-28T14:28",
    Object {
      "date": "2022-03-28T14:28:00+03:00",
      "elyt": Array [
        "ely/ely07",
      ],
      "kieli": "RUOTSI",
      "kunnat": Array [
        491,
        178,
        740,
      ],
      "lelyt": Array [
        "ely/ely08",
        "ely/ely08",
        "ely/ely08",
      ],
      "maakunnat": Array [
        1,
        6,
      ],
      "oid": "2",
      "title": "Kungörelse om inledande av planering: Marikas testprojekt",
      "type": "Kuulutus",
      "url": "https://localhost:3000/sv/suunnitelma/2/aloituskuulutus",
      "vaylamuoto": Array [
        "tie",
      ],
    },
  ],
]
`;

exports[`dynamoDBStreamHandler should reindex the database successfully on maintenance event 1`] = `
Object {
  "MessageBody": "{\\"action\\":\\"index\\",\\"projekti\\":{\\"kayttoOikeudet\\":[{\\"tyyppi\\":\\"PROJEKTIPAALLIKKO\\",\\"email\\":\\"pekka.projari@vayla.fi\\",\\"kayttajatunnus\\":\\"A123\\",\\"etunimi\\":\\"Pekka\\",\\"sukunimi\\":\\"Projari\\",\\"organisaatio\\":\\"Väylävirasto\\",\\"puhelinnumero\\":\\"123456789\\"},{\\"email\\":\\"Matti.Meikalainen@vayla.fi\\",\\"kayttajatunnus\\":\\"A000111\\",\\"etunimi\\":\\"Matti\\",\\"sukunimi\\":\\"Meikalainen\\",\\"puhelinnumero\\":\\"123456789\\",\\"organisaatio\\":\\"Väylävirasto\\",\\"muokattavissa\\":true},{\\"email\\":\\"Kunta.Kuntalainen@vayla.fi\\",\\"kayttajatunnus\\":\\"A000123\\",\\"etunimi\\":\\"Kunta\\",\\"sukunimi\\":\\"Kuntalainen\\",\\"puhelinnumero\\":\\"123456789\\",\\"organisaatio\\":\\"Nokia\\",\\"muokattavissa\\":true},{\\"email\\":\\"eemil.elylainen@ely.fi\\",\\"kayttajatunnus\\":\\"A000124\\",\\"etunimi\\":\\"Eemil\\",\\"sukunimi\\":\\"Elylainen\\",\\"puhelinnumero\\":\\"123456789\\",\\"organisaatio\\":\\"ELY\\",\\"elyOrganisaatio\\":\\"PIRKANMAAN_ELY\\",\\"muokattavissa\\":true}],\\"oid\\":\\"1\\",\\"versio\\":1,\\"velho\\":{\\"nimi\\":\\"Testiprojekti 1\\",\\"tyyppi\\":\\"TIE\\",\\"suunnittelustaVastaavaViranomainen\\":\\"UUDENMAAN_ELY\\",\\"kunnat\\":[837,536],\\"maakunnat\\":[1,6],\\"vaylamuoto\\":[\\"tie\\"],\\"asiatunnusVayla\\":\\"VAYLA/1/2022\\",\\"asiatunnusELY\\":\\"ELY/1/2022\\"},\\"muistiinpano\\":\\"Testiprojekti 1:n muistiinpano\\",\\"suunnitteluSopimus\\":{\\"kunta\\":536,\\"yhteysHenkilo\\":\\"A000123\\",\\"logo\\":{\\"SUOMI\\":\\"/suunnittelusopimus/logo.png\\",\\"RUOTSI\\":\\"/suunnittelusopimus/logo.png\\"}},\\"aloitusKuulutus\\":{\\"id\\":1,\\"kuulutusPaiva\\":\\"2022-01-02\\",\\"hankkeenKuvaus\\":{\\"SUOMI\\":\\"Lorem Ipsum\\",\\"RUOTSI\\":\\"På svenska\\"},\\"siirtyySuunnitteluVaiheeseen\\":\\"2022-01-01\\",\\"kuulutusYhteystiedot\\":{\\"yhteysTiedot\\":[{\\"etunimi\\":\\"Marko\\",\\"sukunimi\\":\\"Koi\\",\\"sahkoposti\\":\\"markku.koi@koi.com\\",\\"organisaatio\\":\\"Kajaani\\",\\"puhelinnumero\\":\\"0293121213\\"}],\\"yhteysHenkilot\\":[\\"A000124\\"]},\\"ilmoituksenVastaanottajat\\":{\\"kunnat\\":[{\\"id\\":837,\\"sahkoposti\\":\\"837@email.com\\"},{\\"id\\":536,\\"sahkoposti\\":\\"536@email.com\\"}],\\"viranomaiset\\":[{\\"nimi\\":\\"PIRKANMAAN_ELY\\",\\"sahkoposti\\":\\"pirkanmaan-ely@email.com\\"}]}},\\"kielitiedot\\":{\\"ensisijainenKieli\\":\\"SUOMI\\",\\"toissijainenKieli\\":\\"RUOTSI\\",\\"projektinNimiVieraskielella\\":\\"Namnet på svenska\\"},\\"euRahoitus\\":false,\\"vahainenMenettely\\":false,\\"liittyvatSuunnitelmat\\":[{\\"asiatunnus\\":\\"atunnus123\\",\\"nimi\\":\\"Littyva suunnitelma 1 nimi\\"}],\\"paivitetty\\":\\"2022-03-15T13:00:00.000Z\\"},\\"index\\":1,\\"size\\":3}",
  "QueueUrl": "mockedIndexerSQSUrl",
}
`;

exports[`dynamoDBStreamHandler should reindex the database successfully on maintenance event 2`] = `
Object {
  "MessageBody": "{\\"action\\":\\"index\\",\\"projekti\\":{\\"kayttoOikeudet\\":[{\\"tyyppi\\":\\"PROJEKTIPAALLIKKO\\",\\"email\\":\\"pekka.projari@vayla.fi\\",\\"kayttajatunnus\\":\\"A123\\",\\"etunimi\\":\\"Pekka\\",\\"sukunimi\\":\\"Projari\\",\\"puhelinnumero\\":\\"123456789\\",\\"organisaatio\\":\\"Väylävirasto\\"},{\\"email\\":\\"Matti.Meikalainen@vayla.fi\\",\\"kayttajatunnus\\":\\"A000111\\",\\"etunimi\\":\\"Matti\\",\\"sukunimi\\":\\"Meikalainen\\",\\"puhelinnumero\\":\\"123456789\\",\\"organisaatio\\":\\"Väylävirasto\\",\\"muokattavissa\\":true}],\\"oid\\":\\"2\\",\\"versio\\":1,\\"velho\\":{\\"nimi\\":\\"Testiprojekti 2\\",\\"tyyppi\\":\\"TIE\\",\\"kunnat\\":[491,178,740],\\"vaylamuoto\\":[\\"tie\\"],\\"vastuuhenkilonEmail\\":\\"pekka.projari@vayla.fi\\",\\"maakunnat\\":[1,6],\\"suunnittelustaVastaavaViranomainen\\":\\"UUDENMAAN_ELY\\",\\"asiatunnusVayla\\":\\"VAYLA/2/2022\\",\\"asiatunnusELY\\":\\"ELY/2/2022\\"},\\"aloitusKuulutusJulkaisut\\":[{\\"aloituskuulutusPDFt\\":{\\"SUOMI\\":{\\"aloituskuulutusIlmoitusPDFPath\\":\\"/aloituskuulutus/1/ILMOITUS TOIMIVALTAISEN VIRANOMAISEN KUULUTUKSESTA Marikan testiprojekti.pdf\\",\\"aloituskuulutusPDFPath\\":\\"/aloituskuulutus/1/KUULUTUS SUUNNITTELUN ALOITTAMISESTA Marikan testiprojekti.pdf\\"},\\"RUOTSI\\":{\\"aloituskuulutusIlmoitusPDFPath\\":\\"/aloituskuulutus/1/MEDDELANDE OM KUNGORELSE FRAN BEHORIG MYNDIGHET Marikas testprojekt.pdf\\",\\"aloituskuulutusPDFPath\\":\\"/aloituskuulutus/1/KUNGORELSE OM INLEDANDET AV PLANERINGEN Marikas testprojekt.pdf\\"}},\\"kielitiedot\\":{\\"projektinNimiVieraskielella\\":\\"Marikas testprojekt\\",\\"toissijainenKieli\\":\\"RUOTSI\\",\\"ensisijainenKieli\\":\\"SUOMI\\"},\\"ilmoituksenVastaanottajat\\":{\\"__typename\\":\\"IlmoituksenVastaanottajat\\",\\"kunnat\\":[{\\"sahkoposti\\":\\"mikkeli@mikke.li\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":491,\\"__typename\\":\\"KuntaVastaanottaja\\"},{\\"sahkoposti\\":\\"juva@ju.va\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":178,\\"__typename\\":\\"KuntaVastaanottaja\\"},{\\"sahkoposti\\":\\"savonlinna@savonlin.na\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":740,\\"__typename\\":\\"KuntaVastaanottaja\\"}],\\"viranomaiset\\":[{\\"sahkoposti\\":\\"kirjaamo.etela-savo@ely-keskus.fi\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"nimi\\":\\"ETELA_SAVO_ELY\\",\\"__typename\\":\\"ViranomaisVastaanottaja\\"}]},\\"kuulutusPaiva\\":\\"2022-03-28T14:28\\",\\"muokkaaja\\":\\"A000111\\",\\"hyvaksyja\\":\\"A123\\",\\"hankkeenKuvaus\\":{\\"SUOMI\\":\\"Suunnittelu kohde on osa Hyvinkää-Hanko sähköistyshanketta, jossa toteutetaan myös tasoristeysten toimenpiteitä. Hyväksytyssä ratasuunnitelmassa kyseisessä kohdassa on hyväksytty suunnitelmaratkaisuna Kisan seisakkeen ja Leksvallin tasoristeysten poistaminen parantamalla Helmströmin tasoristeyksen kohdalle uusi tasoristeys. Nyt käynnistetään Rata-suunnitelman päivitys kyseisessä kohdassa ja suunnitellaan kaikkien kolmen tasoristeyksen poistaminen uudella Leksvallin ylikulkusillalla.\\",\\"RUOTSI\\":\\"Designplatsen är en del av elektrifieringsprojektet Hyvinge-Hangö, som också kommer att genomföra plankorsningsåtgärder. I den fastställda spårplanen är borttagandet av tävlingsstoppet och Leksvallskorsningen genom förbättring av en ny plankorsning vid Helmströms plankorsning vid denna punkt godkänd som planlösning. En uppdatering av Spårplanen kommer nu att lanseras då och man planerar att ta bort alla tre plankorsningarna på den nya Leksvallsöverfarten.\\"},\\"yhteystiedot\\":[{\\"sukunimi\\":\\"Ojanen\\",\\"sahkoposti\\":\\"marika.ojanen@vayla.fi\\",\\"puhelinnumero\\":\\"0299878787\\",\\"organisaatio\\":\\"Väylävirasto\\",\\"etunimi\\":\\"Marika\\"}],\\"kuulutusYhteystiedot\\":{\\"yhteysTiedot\\":[{\\"sukunimi\\":\\"Ojanen\\",\\"sahkoposti\\":\\"marika.ojanen@vayla.fi\\",\\"puhelinnumero\\":\\"0299878787\\",\\"organisaatio\\":\\"Väylävirasto\\",\\"etunimi\\":\\"Marika\\"}],\\"yhteysHenkilot\\":[]},\\"velho\\":{\\"nimi\\":\\"Testiprojekti 2\\",\\"tyyppi\\":\\"TIE\\",\\"kunnat\\":[491,178,740],\\"vaylamuoto\\":[\\"tie\\"],\\"vastuuhenkilonEmail\\":\\"pekka.projari@vayla.fi\\",\\"maakunnat\\":[1,6],\\"suunnittelustaVastaavaViranomainen\\":\\"UUDENMAAN_ELY\\",\\"asiatunnusVayla\\":\\"VAYLA/2/2022\\",\\"asiatunnusELY\\":\\"ELY/2/2022\\"},\\"id\\":1,\\"tila\\":\\"HYVAKSYTTY\\",\\"siirtyySuunnitteluVaiheeseen\\":\\"2022-04-28T14:28\\"}],\\"aloitusKuulutus\\":{\\"id\\":1,\\"hankkeenKuvaus\\":{\\"SUOMI\\":\\"Suunnittelu kohde on osa Hyvinkää-Hanko sähköistyshanketta, jossa toteutetaan myös tasoristeysten toimenpiteitä. Hyväksytyssä ratasuunnitelmassa kyseisessä kohdassa on hyväksytty suunnitelmaratkaisuna Kisan seisakkeen ja Leksvallin tasoristeysten poistaminen parantamalla Helmströmin tasoristeyksen kohdalle uusi tasoristeys. Nyt käynnistetään Rata-suunnitelman päivitys kyseisessä kohdassa ja suunnitellaan kaikkien kolmen tasoristeyksen poistaminen uudella Leksvallin ylikulkusillalla.\\",\\"RUOTSI\\":\\"Designplatsen är en del av elektrifieringsprojektet Hyvinge-Hangö, som också kommer att genomföra plankorsningsåtgärder. I den fastställda spårplanen är borttagandet av tävlingsstoppet och Leksvallskorsningen genom förbättring av en ny plankorsning vid Helmströms plankorsning vid denna punkt godkänd som planlösning. En uppdatering av Spårplanen kommer nu att lanseras då och man planerar att ta bort alla tre plankorsningarna på den nya Leksvallsöverfarten.\\"},\\"ilmoituksenVastaanottajat\\":{\\"kunnat\\":[{\\"id\\":491,\\"sahkoposti\\":\\"mikkeli@mikke.li\\"},{\\"id\\":178,\\"sahkoposti\\":\\"juva@ju.va\\"},{\\"id\\":740,\\"sahkoposti\\":\\"savonlinna@savonlin.na\\"}],\\"viranomaiset\\":[{\\"nimi\\":\\"ETELA_SAVO_ELY\\",\\"sahkoposti\\":\\"kirjaamo.etela-savo@ely-keskus.fi\\"}]},\\"kuulutusPaiva\\":\\"2022-03-28T14:28\\",\\"siirtyySuunnitteluVaiheeseen\\":\\"2022-04-28T14:28\\",\\"kuulutusYhteystiedot\\":{\\"yhteysTiedot\\":[{\\"etunimi\\":\\"Marko\\",\\"sukunimi\\":\\"Koi\\",\\"sahkoposti\\":\\"markku.koi@koi.com\\",\\"organisaatio\\":\\"Kajaani\\",\\"puhelinnumero\\":\\"0293121213\\"}],\\"yhteysHenkilot\\":[\\"A123\\",\\"A000111\\"]}},\\"nahtavillaoloVaihe\\":{\\"id\\":1,\\"hankkeenKuvaus\\":{\\"SUOMI\\":\\"Lorem Ipsum nahtavillaoloVaihe\\"},\\"kuulutusPaiva\\":\\"2022-06-07\\",\\"kuulutusVaihePaattyyPaiva\\":\\"2042-06-07\\",\\"muistutusoikeusPaattyyPaiva\\":\\"2042-06-08\\",\\"ilmoituksenVastaanottajat\\":{\\"__typename\\":\\"IlmoituksenVastaanottajat\\",\\"kunnat\\":[{\\"sahkoposti\\":\\"mikkeli@mikke.li\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":491,\\"__typename\\":\\"KuntaVastaanottaja\\"},{\\"sahkoposti\\":\\"juva@ju.va\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":178,\\"__typename\\":\\"KuntaVastaanottaja\\"},{\\"sahkoposti\\":\\"savonlinna@savonlin.na\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":740,\\"__typename\\":\\"KuntaVastaanottaja\\"}],\\"viranomaiset\\":[{\\"sahkoposti\\":\\"kirjaamo.etela-savo@ely-keskus.fi\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"nimi\\":\\"ETELA_SAVO_ELY\\",\\"__typename\\":\\"ViranomaisVastaanottaja\\"}]},\\"kuulutusYhteystiedot\\":{\\"yhteysTiedot\\":[{\\"etunimi\\":\\"Marko\\",\\"sukunimi\\":\\"Koi\\",\\"sahkoposti\\":\\"markku.koi@koi.com\\",\\"organisaatio\\":\\"Kajaani\\",\\"puhelinnumero\\":\\"0293121213\\"}],\\"yhteysHenkilot\\":[\\"A000111\\"]}},\\"kielitiedot\\":{\\"ensisijainenKieli\\":\\"SUOMI\\",\\"toissijainenKieli\\":\\"RUOTSI\\",\\"projektinNimiVieraskielella\\":\\"Namnet på svenska\\"},\\"euRahoitus\\":false,\\"vahainenMenettely\\":false,\\"liittyvatSuunnitelmat\\":[{\\"asiatunnus\\":\\"atunnus123\\",\\"nimi\\":\\"Littyva suunnitelma 1 nimi\\"}],\\"kasittelynTila\\":{\\"hyvaksymispaatos\\":{\\"paatoksenPvm\\":\\"2022-02-03\\",\\"asianumero\\":\\"traficom-123\\"}},\\"hyvaksymisPaatosVaihe\\":{\\"id\\":1,\\"hallintoOikeus\\":\\"HAMEENLINNA\\",\\"ilmoituksenVastaanottajat\\":{\\"__typename\\":\\"IlmoituksenVastaanottajat\\",\\"kunnat\\":[{\\"sahkoposti\\":\\"mikkeli@mikke.li\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":491,\\"__typename\\":\\"KuntaVastaanottaja\\"},{\\"sahkoposti\\":\\"juva@ju.va\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":178,\\"__typename\\":\\"KuntaVastaanottaja\\"},{\\"sahkoposti\\":\\"savonlinna@savonlin.na\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":740,\\"__typename\\":\\"KuntaVastaanottaja\\"}],\\"viranomaiset\\":[{\\"sahkoposti\\":\\"kirjaamo.etela-savo@ely-keskus.fi\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"nimi\\":\\"ETELA_SAVO_ELY\\",\\"__typename\\":\\"ViranomaisVastaanottaja\\"}]},\\"kuulutusYhteystiedot\\":{\\"yhteysTiedot\\":[{\\"etunimi\\":\\"Marko\\",\\"sukunimi\\":\\"Koi\\",\\"sahkoposti\\":\\"markku.koi@koi.com\\",\\"organisaatio\\":\\"Kajaani\\",\\"puhelinnumero\\":\\"0293121213\\"}],\\"yhteysHenkilot\\":[\\"A123\\",\\"A000111\\"]},\\"kuulutusPaiva\\":\\"2022-01-02\\",\\"kuulutusVaihePaattyyPaiva\\":\\"2022-01-03\\"},\\"salt\\":\\"foo\\",\\"paivitetty\\":\\"2022-03-15T14:30:00.000Z\\",\\"tallennettu\\":true},\\"index\\":2,\\"size\\":3}",
  "QueueUrl": "mockedIndexerSQSUrl",
}
`;

exports[`dynamoDBStreamHandler should reindex the database successfully on maintenance event 3`] = `
Object {
  "MessageBody": "{\\"action\\":\\"index\\",\\"projekti\\":{\\"kayttoOikeudet\\":[{\\"tyyppi\\":\\"PROJEKTIPAALLIKKO\\",\\"email\\":\\"pekka.projari@vayla.fi\\",\\"kayttajatunnus\\":\\"A123\\",\\"etunimi\\":\\"Pekka\\",\\"sukunimi\\":\\"Projari\\",\\"puhelinnumero\\":\\"123456789\\",\\"organisaatio\\":\\"Väylävirasto\\"},{\\"email\\":\\"Matti.Meikalainen@vayla.fi\\",\\"kayttajatunnus\\":\\"A000111\\",\\"etunimi\\":\\"Matti\\",\\"sukunimi\\":\\"Meikalainen\\",\\"puhelinnumero\\":\\"123456789\\",\\"organisaatio\\":\\"Väylävirasto\\",\\"muokattavissa\\":true}],\\"oid\\":\\"5\\",\\"versio\\":1,\\"velho\\":{\\"nimi\\":\\"Testiprojekti 2\\",\\"tyyppi\\":\\"TIE\\",\\"kunnat\\":[491,178,740],\\"vaylamuoto\\":[\\"tie\\"],\\"vastuuhenkilonEmail\\":\\"pekka.projari@vayla.fi\\",\\"maakunnat\\":[1,6],\\"suunnittelustaVastaavaViranomainen\\":\\"UUDENMAAN_ELY\\",\\"asiatunnusVayla\\":\\"VAYLA/2/2022\\",\\"asiatunnusELY\\":\\"ELY/2/2022\\"},\\"aloitusKuulutus\\":{\\"id\\":1,\\"hankkeenKuvaus\\":{\\"SUOMI\\":\\"Suunnittelu kohde on osa Hyvinkää-Hanko sähköistyshanketta, jossa toteutetaan myös tasoristeysten toimenpiteitä. Hyväksytyssä ratasuunnitelmassa kyseisessä kohdassa on hyväksytty suunnitelmaratkaisuna Kisan seisakkeen ja Leksvallin tasoristeysten poistaminen parantamalla Helmströmin tasoristeyksen kohdalle uusi tasoristeys. Nyt käynnistetään Rata-suunnitelman päivitys kyseisessä kohdassa ja suunnitellaan kaikkien kolmen tasoristeyksen poistaminen uudella Leksvallin ylikulkusillalla.\\",\\"RUOTSI\\":\\"Designplatsen är en del av elektrifieringsprojektet Hyvinge-Hangö, som också kommer att genomföra plankorsningsåtgärder. I den fastställda spårplanen är borttagandet av tävlingsstoppet och Leksvallskorsningen genom förbättring av en ny plankorsning vid Helmströms plankorsning vid denna punkt godkänd som planlösning. En uppdatering av Spårplanen kommer nu att lanseras då och man planerar att ta bort alla tre plankorsningarna på den nya Leksvallsöverfarten.\\"},\\"ilmoituksenVastaanottajat\\":{\\"kunnat\\":[{\\"id\\":491,\\"sahkoposti\\":\\"mikkeli@mikke.li\\"},{\\"id\\":178,\\"sahkoposti\\":\\"juva@ju.va\\"},{\\"id\\":740,\\"sahkoposti\\":\\"savonlinna@savonlin.na\\"}],\\"viranomaiset\\":[{\\"nimi\\":\\"ETELA_SAVO_ELY\\",\\"sahkoposti\\":\\"kirjaamo.etela-savo@ely-keskus.fi\\"}]},\\"kuulutusPaiva\\":\\"2022-03-28T14:28\\",\\"siirtyySuunnitteluVaiheeseen\\":\\"2022-04-28T14:28\\",\\"kuulutusYhteystiedot\\":{\\"yhteysTiedot\\":[{\\"etunimi\\":\\"Marko\\",\\"sukunimi\\":\\"Koi\\",\\"sahkoposti\\":\\"markku.koi@koi.com\\",\\"organisaatio\\":\\"Kajaani\\",\\"puhelinnumero\\":\\"0293121213\\"}],\\"yhteysHenkilot\\":[\\"A123\\",\\"A000111\\"]}},\\"nahtavillaoloVaihe\\":{\\"id\\":1,\\"hankkeenKuvaus\\":{\\"SUOMI\\":\\"Lorem Ipsum nahtavillaoloVaihe\\"},\\"kuulutusPaiva\\":\\"2022-06-07\\",\\"kuulutusVaihePaattyyPaiva\\":\\"2042-06-07\\",\\"muistutusoikeusPaattyyPaiva\\":\\"2042-06-08\\",\\"ilmoituksenVastaanottajat\\":{\\"__typename\\":\\"IlmoituksenVastaanottajat\\",\\"kunnat\\":[{\\"sahkoposti\\":\\"mikkeli@mikke.li\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":491,\\"__typename\\":\\"KuntaVastaanottaja\\"},{\\"sahkoposti\\":\\"juva@ju.va\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":178,\\"__typename\\":\\"KuntaVastaanottaja\\"},{\\"sahkoposti\\":\\"savonlinna@savonlin.na\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":740,\\"__typename\\":\\"KuntaVastaanottaja\\"}],\\"viranomaiset\\":[{\\"sahkoposti\\":\\"kirjaamo.etela-savo@ely-keskus.fi\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"nimi\\":\\"ETELA_SAVO_ELY\\",\\"__typename\\":\\"ViranomaisVastaanottaja\\"}]},\\"kuulutusYhteystiedot\\":{\\"yhteysTiedot\\":[{\\"etunimi\\":\\"Marko\\",\\"sukunimi\\":\\"Koi\\",\\"sahkoposti\\":\\"markku.koi@koi.com\\",\\"organisaatio\\":\\"Kajaani\\",\\"puhelinnumero\\":\\"0293121213\\"}],\\"yhteysHenkilot\\":[\\"A000111\\"]}},\\"kielitiedot\\":{\\"ensisijainenKieli\\":\\"SUOMI\\",\\"toissijainenKieli\\":\\"RUOTSI\\",\\"projektinNimiVieraskielella\\":\\"Namnet på svenska\\"},\\"euRahoitus\\":false,\\"vahainenMenettely\\":false,\\"liittyvatSuunnitelmat\\":[{\\"asiatunnus\\":\\"atunnus123\\",\\"nimi\\":\\"Littyva suunnitelma 1 nimi\\"}],\\"kasittelynTila\\":{\\"hyvaksymispaatos\\":{\\"paatoksenPvm\\":\\"2022-02-03\\",\\"asianumero\\":\\"traficom-123\\"}},\\"hyvaksymisPaatosVaihe\\":{\\"id\\":1,\\"hallintoOikeus\\":\\"HAMEENLINNA\\",\\"ilmoituksenVastaanottajat\\":{\\"__typename\\":\\"IlmoituksenVastaanottajat\\",\\"kunnat\\":[{\\"sahkoposti\\":\\"mikkeli@mikke.li\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":491,\\"__typename\\":\\"KuntaVastaanottaja\\"},{\\"sahkoposti\\":\\"juva@ju.va\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":178,\\"__typename\\":\\"KuntaVastaanottaja\\"},{\\"sahkoposti\\":\\"savonlinna@savonlin.na\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":740,\\"__typename\\":\\"KuntaVastaanottaja\\"}],\\"viranomaiset\\":[{\\"sahkoposti\\":\\"kirjaamo.etela-savo@ely-keskus.fi\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"nimi\\":\\"ETELA_SAVO_ELY\\",\\"__typename\\":\\"ViranomaisVastaanottaja\\"}]},\\"kuulutusYhteystiedot\\":{\\"yhteysTiedot\\":[{\\"etunimi\\":\\"Marko\\",\\"sukunimi\\":\\"Koi\\",\\"sahkoposti\\":\\"markku.koi@koi.com\\",\\"organisaatio\\":\\"Kajaani\\",\\"puhelinnumero\\":\\"0293121213\\"}],\\"yhteysHenkilot\\":[\\"A123\\",\\"A000111\\"]},\\"kuulutusPaiva\\":\\"2022-01-02\\",\\"kuulutusVaihePaattyyPaiva\\":\\"2022-01-03\\"},\\"salt\\":\\"foo\\",\\"paivitetty\\":\\"2022-03-15T14:30:00.000Z\\",\\"tallennettu\\":true,\\"aloitusKuulutusJulkaisut\\":[{\\"aloituskuulutusPDFt\\":{\\"SUOMI\\":{\\"aloituskuulutusIlmoitusPDFPath\\":\\"/aloituskuulutus/1/ILMOITUS TOIMIVALTAISEN VIRANOMAISEN KUULUTUKSESTA Marikan testiprojekti.pdf\\",\\"aloituskuulutusPDFPath\\":\\"/aloituskuulutus/1/KUULUTUS SUUNNITTELUN ALOITTAMISESTA Marikan testiprojekti.pdf\\"},\\"RUOTSI\\":{\\"aloituskuulutusIlmoitusPDFPath\\":\\"/aloituskuulutus/1/MEDDELANDE OM KUNGORELSE FRAN BEHORIG MYNDIGHET Marikas testprojekt.pdf\\",\\"aloituskuulutusPDFPath\\":\\"/aloituskuulutus/1/KUNGORELSE OM INLEDANDET AV PLANERINGEN Marikas testprojekt.pdf\\"}},\\"kielitiedot\\":{\\"projektinNimiVieraskielella\\":\\"Marikas testprojekt\\",\\"toissijainenKieli\\":\\"RUOTSI\\",\\"ensisijainenKieli\\":\\"SUOMI\\"},\\"ilmoituksenVastaanottajat\\":{\\"__typename\\":\\"IlmoituksenVastaanottajat\\",\\"kunnat\\":[{\\"sahkoposti\\":\\"mikkeli@mikke.li\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":491,\\"__typename\\":\\"KuntaVastaanottaja\\"},{\\"sahkoposti\\":\\"juva@ju.va\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":178,\\"__typename\\":\\"KuntaVastaanottaja\\"},{\\"sahkoposti\\":\\"savonlinna@savonlin.na\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"id\\":740,\\"__typename\\":\\"KuntaVastaanottaja\\"}],\\"viranomaiset\\":[{\\"sahkoposti\\":\\"kirjaamo.etela-savo@ely-keskus.fi\\",\\"lahetetty\\":\\"2022-03-11T14:54\\",\\"nimi\\":\\"ETELA_SAVO_ELY\\",\\"__typename\\":\\"ViranomaisVastaanottaja\\"}]},\\"kuulutusPaiva\\":\\"2022-03-28T14:28\\",\\"muokkaaja\\":\\"A000111\\",\\"hyvaksyja\\":\\"A123\\",\\"hankkeenKuvaus\\":{\\"SUOMI\\":\\"Suunnittelu kohde on osa Hyvinkää-Hanko sähköistyshanketta, jossa toteutetaan myös tasoristeysten toimenpiteitä. Hyväksytyssä ratasuunnitelmassa kyseisessä kohdassa on hyväksytty suunnitelmaratkaisuna Kisan seisakkeen ja Leksvallin tasoristeysten poistaminen parantamalla Helmströmin tasoristeyksen kohdalle uusi tasoristeys. Nyt käynnistetään Rata-suunnitelman päivitys kyseisessä kohdassa ja suunnitellaan kaikkien kolmen tasoristeyksen poistaminen uudella Leksvallin ylikulkusillalla.\\",\\"RUOTSI\\":\\"Designplatsen är en del av elektrifieringsprojektet Hyvinge-Hangö, som också kommer att genomföra plankorsningsåtgärder. I den fastställda spårplanen är borttagandet av tävlingsstoppet och Leksvallskorsningen genom förbättring av en ny plankorsning vid Helmströms plankorsning vid denna punkt godkänd som planlösning. En uppdatering av Spårplanen kommer nu att lanseras då och man planerar att ta bort alla tre plankorsningarna på den nya Leksvallsöverfarten.\\"},\\"yhteystiedot\\":[{\\"sukunimi\\":\\"Ojanen\\",\\"sahkoposti\\":\\"marika.ojanen@vayla.fi\\",\\"puhelinnumero\\":\\"0299878787\\",\\"organisaatio\\":\\"Väylävirasto\\",\\"etunimi\\":\\"Marika\\"}],\\"kuulutusYhteystiedot\\":{\\"yhteysTiedot\\":[{\\"sukunimi\\":\\"Ojanen\\",\\"sahkoposti\\":\\"marika.ojanen@vayla.fi\\",\\"puhelinnumero\\":\\"0299878787\\",\\"organisaatio\\":\\"Väylävirasto\\",\\"etunimi\\":\\"Marika\\"}],\\"yhteysHenkilot\\":[]},\\"velho\\":{\\"nimi\\":\\"Testiprojekti 2\\",\\"tyyppi\\":\\"TIE\\",\\"kunnat\\":[491,178,740],\\"vaylamuoto\\":[\\"tie\\"],\\"vastuuhenkilonEmail\\":\\"pekka.projari@vayla.fi\\",\\"maakunnat\\":[1,6],\\"suunnittelustaVastaavaViranomainen\\":\\"UUDENMAAN_ELY\\",\\"asiatunnusVayla\\":\\"VAYLA/2/2022\\",\\"asiatunnusELY\\":\\"ELY/2/2022\\"},\\"id\\":1,\\"tila\\":\\"ODOTTAA_HYVAKSYNTAA\\",\\"siirtyySuunnitteluVaiheeseen\\":\\"2022-04-28T14:28\\"}]},\\"index\\":3,\\"size\\":3}",
  "QueueUrl": "mockedIndexerSQSUrl",
}
`;
