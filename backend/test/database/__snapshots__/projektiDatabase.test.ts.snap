// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`apiHandler updateSuunnitelma saveProjekti should pass expected parameters to DynamoDB 1`] = `
Object {
  "ExpressionAttributeNames": Object {
    "#aloitusKuulutus": "aloitusKuulutus",
    "#euRahoitus": "euRahoitus",
    "#kayttoOikeudet": "kayttoOikeudet",
    "#kielitiedot": "kielitiedot",
    "#liittyvatSuunnitelmat": "liittyvatSuunnitelmat",
    "#muistiinpano": "muistiinpano",
    "#paivitetty": "paivitetty",
    "#suunnitteluSopimus": "suunnitteluSopimus",
    "#velho": "velho",
  },
  "ExpressionAttributeValues": Object {
    ":aloitusKuulutus": Object {
      "esitettavatYhteystiedot": Array [
        Object {
          "etunimi": "Marko",
          "organisaatio": "Kajaani",
          "puhelinnumero": "0293121213",
          "sahkoposti": "markku.koi@koi.com",
          "sukunimi": "Koi",
        },
      ],
      "hankkeenKuvaus": Object {
        "RUOTSI": "På svenska",
        "SAAME": "Saameksi",
        "SUOMI": "Lorem Ipsum",
      },
      "kuulutusPaiva": "2022-01-02",
      "siirtyySuunnitteluVaiheeseen": "2022-01-01",
    },
    ":emptyList": Array [],
    ":euRahoitus": false,
    ":kayttoOikeudet": Array [
      Object {
        "email": "pekka.projari@vayla.fi",
        "esitetaanKuulutuksessa": null,
        "kayttajatunnus": "A123",
        "nimi": "Projari, Pekka",
        "organisaatio": "Väylävirasto",
        "puhelinnumero": "123456789",
        "rooli": "PROJEKTIPAALLIKKO",
      },
      Object {
        "email": "Matti.Meikalainen@vayla.fi",
        "esitetaanKuulutuksessa": null,
        "kayttajatunnus": "A000111",
        "nimi": "Meikalainen, Matti",
        "organisaatio": "Väylävirasto",
        "puhelinnumero": "123456789",
        "rooli": "MUOKKAAJA",
      },
    ],
    ":kielitiedot": Object {
      "ensisijainenKieli": "SUOMI",
      "projektinNimiVieraskielella": "Namnet på svenska",
      "toissijainenKieli": "RUOTSI",
    },
    ":liittyvatSuunnitelmat": Array [
      Object {
        "asiatunnus": "atunnus123",
        "nimi": "Littyva suunnitelma 1 nimi",
      },
    ],
    ":muistiinpano": "Testiprojekti 1:n muistiinpano",
    ":paivitetty": "2022-03-15T14:29:48.845Z",
    ":suunnitteluSopimus": Object {
      "email": "Joku.Jossain@vayla.fi",
      "etunimi": "Joku",
      "kunta": "Nokia",
      "puhelinnumero": "123",
      "sukunimi": "Jossain",
    },
    ":velho": Object {
      "asiatunnusVayla": "A1",
      "kunnat": Array [
        "Tampere",
        "Nokia",
      ],
      "maakunnat": Array [
        "Uusimaa",
        "Pirkanmaa",
      ],
      "nimi": "Testiprojekti 1",
      "suunnittelustaVastaavaViranomainen": "UUDENMAAN_ELY",
      "tilaajaOrganisaatio": "Uudenmaan ELY-keskus",
      "tyyppi": "TIE",
      "vaylamuoto": Array [
        "tie",
      ],
    },
  },
  "Key": Object {
    "oid": "1",
  },
  "TableName": "Projekti-localstack",
  "UpdateExpression": "SET #kayttoOikeudet = :kayttoOikeudet , #velho = :velho , #muistiinpano = :muistiinpano , #suunnitteluSopimus = :suunnitteluSopimus , #aloitusKuulutus = :aloitusKuulutus , #kielitiedot = :kielitiedot , #euRahoitus = :euRahoitus , #liittyvatSuunnitelmat = :liittyvatSuunnitelmat , #paivitetty = :paivitetty , vuorovaikutukset = if_not_exists(vuorovaikutukset, :emptyList) ",
}
`;

exports[`apiHandler updateSuunnitelma saveProjekti should remove null fields from DynamoDB 1`] = `
Object {
  "ExpressionAttributeNames": Object {
    "#muistiinpano": "muistiinpano",
    "#paivitetty": "paivitetty",
  },
  "ExpressionAttributeValues": Object {
    ":emptyList": Array [],
    ":muistiinpano": "foo",
    ":paivitetty": "2022-03-15T14:29:48.845Z",
  },
  "Key": Object {
    "oid": "1",
  },
  "TableName": "Projekti-localstack",
  "UpdateExpression": "SET #muistiinpano = :muistiinpano , #paivitetty = :paivitetty , vuorovaikutukset = if_not_exists(vuorovaikutukset, :emptyList) REMOVE suunnitteluSopimus",
}
`;
